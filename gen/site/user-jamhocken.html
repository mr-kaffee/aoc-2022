<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Solutions by jamhocken</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge, pre.rouge .w {
  color: #24292f;
  background-color: #f6f8fa;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kn, pre.rouge .kp, pre.rouge .kr, pre.rouge .kt, pre.rouge .kv {
  color: #cf222e;
}
pre.rouge .gr {
  color: #f6f8fa;
}
pre.rouge .gd {
  color: #82071e;
  background-color: #ffebe9;
}
pre.rouge .nb {
  color: #953800;
}
pre.rouge .nc {
  color: #953800;
}
pre.rouge .no {
  color: #953800;
}
pre.rouge .nn {
  color: #953800;
}
pre.rouge .sr {
  color: #116329;
}
pre.rouge .na {
  color: #116329;
}
pre.rouge .nt {
  color: #116329;
}
pre.rouge .gi {
  color: #116329;
  background-color: #dafbe1;
}
pre.rouge .kc {
  color: #0550ae;
}
pre.rouge .l, pre.rouge .ld, pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #0550ae;
}
pre.rouge .sb {
  color: #0550ae;
}
pre.rouge .bp {
  color: #0550ae;
}
pre.rouge .ne {
  color: #0550ae;
}
pre.rouge .nl {
  color: #0550ae;
}
pre.rouge .py {
  color: #0550ae;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #0550ae;
}
pre.rouge .o, pre.rouge .ow {
  color: #0550ae;
}
pre.rouge .gh {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .gu {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sa, pre.rouge .sc, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .se, pre.rouge .sh, pre.rouge .sx, pre.rouge .s1, pre.rouge .ss {
  color: #0a3069;
}
pre.rouge .nd {
  color: #8250df;
}
pre.rouge .nf, pre.rouge .fm {
  color: #8250df;
}
pre.rouge .err {
  color: #f6f8fa;
  background-color: #82071e;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cp, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6e7781;
}
pre.rouge .gl {
  color: #6e7781;
}
pre.rouge .gt {
  color: #6e7781;
}
pre.rouge .ni {
  color: #24292f;
}
pre.rouge .si {
  color: #24292f;
}
pre.rouge .ge {
  color: #24292f;
  font-style: italic;
}
pre.rouge .gs {
  color: #24292f;
  font-weight: bold;
}
</style>
</head>
<body id="top" class="article toc2 toc-right">
<div id="header">
<h1>Solutions by jamhocken</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_python">Python</a></li>
<li><a href="#_run_script">Run script</a></li>
<li><a href="#_what_i_learned">What I learned</a></li>
<li><a href="#_approach">Approach</a></li>
<li><a href="#_run_script_2">Run script</a></li>
<li><a href="#_what_i_learned_2">What I learned</a></li>
<li><a href="#_approach_2">Approach</a></li>
<li><a href="#_run_script_3">Run script</a></li>
<li><a href="#_what_i_learned_3">What I learned</a></li>
<li><a href="#_approach_3">Approach</a></li>
<li><a href="#_run_script_4">Run script</a></li>
<li><a href="#_what_i_learned_4">What I learned</a></li>
<li><a href="#_approach_4">Approach</a></li>
<li><a href="#_run_script_5">Run script</a></li>
<li><a href="#_what_i_learned_5">What I learned</a></li>
<li><a href="#_approach_5">Approach</a></li>
<li><a href="#_run_script_6">Run script</a></li>
<li><a href="#_what_i_learned_6">What I learned</a></li>
<li><a href="#_approach_6">Approach</a></li>
<li><a href="#_run_script_7">Run script</a></li>
<li><a href="#_what_i_learned_7">What I learned</a></li>
<li><a href="#_approach_7">Approach</a></li>
<li><a href="#_run_script_8">Run script</a></li>
<li><a href="#_what_i_learned_8">What I learned</a></li>
<li><a href="#_approach_8">Approach</a></li>
<li><a href="#_run_script_9">Run script</a></li>
<li><a href="#_what_i_learned_9">What I learned</a></li>
<li><a href="#_approach_9">Approach</a></li>
<li><a href="#_run_script_10">Run script</a></li>
<li><a href="#_what_i_learned_10">What I learned</a></li>
<li><a href="#_approach_10">Approach</a></li>
<li><a href="#_run_script_11">Run script</a></li>
<li><a href="#_what_i_learned_11">What I learned</a></li>
<li><a href="#_approach_11">Approach</a></li>
<li><a href="#_run_script_12">Run script</a></li>
<li><a href="#_what_i_learned_12">What I learned</a></li>
<li><a href="#_approach_12">Approach</a></li>
<li><a href="#_run_script_13">Run script</a></li>
<li><a href="#_what_i_learned_13">What I learned</a></li>
<li><a href="#_approach_13">Approach</a></li>
<li><a href="#_run_script_14">Run script</a></li>
<li><a href="#_what_i_learned_14">What I learned</a></li>
<li><a href="#_approach_14">Approach</a></li>
<li><a href="#_run_script_15">Run script</a></li>
<li><a href="#_what_i_learned_15">What I learned</a></li>
<li><a href="#_approach_15">Approach</a></li>
<li><a href="#_run_script_16">Run script</a></li>
<li><a href="#_what_i_learned_16">What I learned</a></li>
<li><a href="#_approach_16">Approach</a></li>
<li><a href="#_run_script_17">Run script</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="index.html">Overview</a></p>
</div>
<div id="sol-0" class="paragraph">
<p>Day 0 of year 2022</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_python">Python</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I thought about trying another language, but my youngest son is going to try his hand at AOC this year.
 And, so, I&#8217;ll stick to Python.</p>
</div>
<div class="paragraph">
<p>Judging from the past, he has a good chance to get 1 star on a few of the first ones.</p>
</div>
<div class="paragraph">
<p>I&#8217;ll post both solutions. :-) It&#8217;ll be an adventure.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Hello, World!</span><span class="sh">"</span><span class="p">)</span>


<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-1" class="paragraph">
<p>Day 1 of year 2022
<a href="https://adventofcode.com/2022/day/1" class="bare">https://adventofcode.com/2022/day/1</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This one was straightforward and I just had to get into the groove again.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach">Approach</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I put the calories per elf into a list.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>For star 1, I just found the max of my list.</p>
</li>
<li>
<p>For star 2, I sorted the list in descending order and added up the first 3 values.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_2">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">lines_stripped</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>
    <span class="n">cal</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">calories</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines_stripped</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">calories</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">cal</span><span class="p">)</span>
            <span class="n">cal</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cal</span> <span class="o">+=</span> <span class="nf">int</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">calories</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="n">calories</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>

    <span class="c1">#star 1
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">The elf with the most calories is carrying</span><span class="sh">"</span><span class="p">,</span><span class="nf">max</span><span class="p">(</span><span class="n">calories</span><span class="p">),</span><span class="sh">"</span><span class="s">calories.</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1">#star 2
</span>    <span class="n">calories</span><span class="p">.</span><span class="nf">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">The top three elves are carrying</span><span class="sh">"</span><span class="p">,</span><span class="nf">sum</span><span class="p">(</span><span class="n">calories</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]),</span><span class="sh">"</span><span class="s">calories.</span><span class="sh">"</span><span class="p">)</span>

<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-2" class="paragraph">
<p>Day 2 of year 2022
<a href="https://adventofcode.com/2022/day/2" class="bare">https://adventofcode.com/2022/day/2</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_2">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This one was again straightforward.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_2">Approach</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I just put the inputs into a list.
For each star created a dictionary with the scores based on the rules described.
Since there are only 9 cases each time, I didn&#8217;t write code for this but just entered them per hand into the dictionary.
Then, you feed the list into the dictionary and sum the result.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_3">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">strategy</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">strategy</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="n">strategy</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>

    <span class="c1">#star 1
</span>    <span class="n">score_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="sh">"</span><span class="s">A X</span><span class="sh">"</span><span class="p">:</span> <span class="mi">1</span><span class="o">+</span><span class="mi">3</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">A Y</span><span class="sh">"</span><span class="p">:</span> <span class="mi">2</span><span class="o">+</span><span class="mi">6</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">A Z</span><span class="sh">"</span><span class="p">:</span> <span class="mi">3</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">B X</span><span class="sh">"</span><span class="p">:</span> <span class="mi">1</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">B Y</span><span class="sh">"</span><span class="p">:</span> <span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">B Z</span><span class="sh">"</span><span class="p">:</span> <span class="mi">3</span><span class="o">+</span><span class="mi">6</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">C X</span><span class="sh">"</span><span class="p">:</span> <span class="mi">1</span><span class="o">+</span><span class="mi">6</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">C Y</span><span class="sh">"</span><span class="p">:</span> <span class="mi">2</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">C Z</span><span class="sh">"</span><span class="p">:</span> <span class="mi">3</span><span class="o">+</span><span class="mi">3</span>
    <span class="p">}</span>

    <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">score_dict</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">strategy</span><span class="p">]</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">The total score is</span><span class="sh">"</span><span class="p">,</span><span class="nf">sum</span><span class="p">(</span><span class="n">scores</span><span class="p">))</span>
    
    <span class="c1">#star 2
</span>    <span class="n">score_dict</span> <span class="o">=</span> <span class="p">{</span>
        <span class="sh">"</span><span class="s">A X</span><span class="sh">"</span><span class="p">:</span> <span class="mi">3</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">A Y</span><span class="sh">"</span><span class="p">:</span> <span class="mi">1</span><span class="o">+</span><span class="mi">3</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">A Z</span><span class="sh">"</span><span class="p">:</span> <span class="mi">2</span><span class="o">+</span><span class="mi">6</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">B X</span><span class="sh">"</span><span class="p">:</span> <span class="mi">1</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">B Y</span><span class="sh">"</span><span class="p">:</span> <span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">B Z</span><span class="sh">"</span><span class="p">:</span> <span class="mi">3</span><span class="o">+</span><span class="mi">6</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">C X</span><span class="sh">"</span><span class="p">:</span> <span class="mi">2</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">C Y</span><span class="sh">"</span><span class="p">:</span> <span class="mi">3</span><span class="o">+</span><span class="mi">3</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">C Z</span><span class="sh">"</span><span class="p">:</span> <span class="mi">1</span><span class="o">+</span><span class="mi">6</span>
    <span class="p">}</span>

    <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">score_dict</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">strategy</span><span class="p">]</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">The total score is</span><span class="sh">"</span><span class="p">,</span><span class="nf">sum</span><span class="p">(</span><span class="n">scores</span><span class="p">))</span>

<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-3" class="paragraph">
<p>Day 3 of year 2022
<a href="https://adventofcode.com/2022/day/3" class="bare">https://adventofcode.com/2022/day/3</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_3">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I used <code>ord</code> for the first time.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_3">Approach</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I put all of the rucksacks in a list.</p>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br>
I just took each letter from the first half of each rucksack and check if it is present in the second half. If so,
it&#8217;s the duplicate and I go to the next rucksack.
To get the priorities, I used ord and did the math.</p>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br>
It&#8217;s similar. I take each letter from the first rucksack and see if it is in both of the next
2 rucksacks. If so, it&#8217;s the badge and I skip to the next 3 rucksacks.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_4">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">rucksack</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">rucksack</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="n">contents</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>

    <span class="c1">#star 1
</span>    <span class="n">duplicates</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">rucksack</span> <span class="ow">in</span> <span class="n">contents</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">rucksack</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nf">len</span><span class="p">(</span><span class="n">rucksack</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">rucksack</span><span class="p">[</span><span class="nf">len</span><span class="p">(</span><span class="n">rucksack</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span><span class="p">:]:</span>
                <span class="n">duplicates</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
                <span class="k">break</span>

    <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="nf">ord</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">-</span><span class="mi">96</span> <span class="k">if</span> <span class="nf">ord</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">96</span> <span class="k">else</span> <span class="nf">ord</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">-</span><span class="mi">64</span><span class="o">+</span><span class="mi">26</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">duplicates</span><span class="p">]</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">The sum of the priorities is </span><span class="sh">"</span><span class="p">,</span><span class="nf">sum</span><span class="p">(</span><span class="n">scores</span><span class="p">))</span>

    <span class="c1">#star 2
</span>    <span class="n">position</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">badge</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="n">position</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">contents</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">contents</span><span class="p">[</span><span class="n">position</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">contents</span><span class="p">[</span><span class="n">position</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">contents</span><span class="p">[</span><span class="n">position</span><span class="o">+</span><span class="mi">2</span><span class="p">]:</span>
                <span class="n">badge</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
                <span class="n">position</span> <span class="o">+=</span> <span class="mi">3</span>
                <span class="k">break</span>

    <span class="n">scores</span> <span class="o">=</span> <span class="p">[</span><span class="nf">ord</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">-</span><span class="mi">96</span> <span class="k">if</span> <span class="nf">ord</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">96</span> <span class="k">else</span> <span class="nf">ord</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">-</span><span class="mi">64</span><span class="o">+</span><span class="mi">26</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">badge</span><span class="p">]</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">The sum of the priorities is </span><span class="sh">"</span><span class="p">,</span><span class="nf">sum</span><span class="p">(</span><span class="n">scores</span><span class="p">))</span>

<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-4" class="paragraph">
<p>Day 4 of year 2022
<a href="https://adventofcode.com/2022/day/4" class="bare">https://adventofcode.com/2022/day/4</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_4">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Remembered more or less how to use regex again.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_4">Approach</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I use a regex to fish out the 4 numbers on each line and put them into a list of lists.</p>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br>
I just checked if the first pair is contained in the second or vice versa and put a 1 in a list if true. Then you just sum that list.</p>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br>
It&#8217;s similar. You just check essentially that the 2 pairs are not disjoint. If so, put a 1 in the list. Sum the list.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_5">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="kn">import</span> <span class="n">regex</span> <span class="k">as</span> <span class="n">re</span>

<span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">lines_stripped</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>
    <span class="n">input_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sh">"</span><span class="s">(\d+)-(\d+),(\d+)-(\d+)</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">sections</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines_stripped</span><span class="p">:</span>
        <span class="n">input_match</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="n">input_pattern</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
        <span class="n">section</span> <span class="o">=</span> <span class="p">[</span><span class="nf">int</span><span class="p">(</span><span class="n">input_match</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]</span>
        <span class="n">sections</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sections</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="n">sections</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>

    <span class="c1">#star 1
</span>    <span class="n">fully_contain</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="nf">if </span><span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">pair</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">pair</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="ow">or</span> 
                     <span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">pair</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">pair</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="k">else</span> <span class="mi">0</span> 
                     <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">]</span>
    <span class="nf">print</span><span class="p">(</span><span class="nf">sum</span><span class="p">(</span><span class="n">fully_contain</span><span class="p">),</span><span class="sh">"</span><span class="s">pairs have one range fully contained by the other.</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1">#star 2
</span>    <span class="n">overlap</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="nf">if </span><span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">pair</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">pair</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="ow">or</span> 
                     <span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">pair</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">pair</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="k">else</span> <span class="mi">0</span> 
                     <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">sections</span><span class="p">]</span>
    <span class="nf">print</span><span class="p">(</span><span class="nf">sum</span><span class="p">(</span><span class="n">overlap</span><span class="p">),</span><span class="sh">"</span><span class="s">pairs overlap.</span><span class="sh">"</span><span class="p">)</span>
    
<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-5" class="paragraph">
<p>Day 5 of year 2022
<a href="https://adventofcode.com/2022/day/5" class="bare">https://adventofcode.com/2022/day/5</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_5">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I was reminded that copy in python is a shallow copy.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_5">Approach</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The hardest part was parsing the file.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I parse the first lines of the file to figure out how many stacks there are and the maximum starting stack height.</p>
</li>
<li>
<p>Then I fish out the initial stack contents for each stack and put them into a list of stacks (deque).</p>
</li>
<li>
<p>Then I parse the instructions and put the 3 numbers for each of the instructions into a list of lists. This was straightforward with regex since the pattern of each line is fixed.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br>
I go through the instructions and pop the right number of crates from the giving stack and immediately append each to the stack of the receiving stack.</p>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br>
It&#8217;s similar. The popped stacks go onto a temporary stack. Then I pop them from the temporary stack and append them to the receiving stack.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_6">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="kn">import</span> <span class="n">regex</span> <span class="k">as</span> <span class="n">re</span>
<span class="kn">from</span> <span class="n">collections</span> <span class="kn">import</span> <span class="n">deque</span>

<span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">lines_stripped</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">line</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">lines_stripped</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">1</span><span class="sh">"</span><span class="p">:</span>
            <span class="n">stack_height</span> <span class="o">=</span> <span class="n">index</span>
            <span class="n">no_stacks</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">break</span>
    
    <span class="n">stacks</span> <span class="o">=</span> <span class="p">{</span><span class="n">index</span><span class="p">:</span><span class="nf">deque</span><span class="p">()</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">no_stacks</span><span class="p">)}</span>
    <span class="k">for</span> <span class="n">stack</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">no_stacks</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">stack_height</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">file_contents</span><span class="p">[</span><span class="n">stack_height</span><span class="o">-</span><span class="n">position</span><span class="o">-</span><span class="mi">1</span><span class="p">][(</span><span class="n">stack</span><span class="p">)</span><span class="o">*</span><span class="mi">4</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="sh">'</span><span class="s"> </span><span class="sh">'</span><span class="p">:</span>
                <span class="n">stacks</span><span class="p">[</span><span class="n">stack</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">file_contents</span><span class="p">[</span><span class="n">stack_height</span><span class="o">-</span><span class="n">position</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">stack</span><span class="o">*</span><span class="mi">4</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>
    
    <span class="n">input_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sh">"</span><span class="s">move (\d+) from (\d+) to (\d+)</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">instructions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line_no</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">stack_height</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="nf">len</span><span class="p">(</span><span class="n">lines_stripped</span><span class="p">)):</span>
        <span class="n">input_match</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="n">input_pattern</span><span class="p">,</span> <span class="n">lines_stripped</span><span class="p">[</span><span class="n">line_no</span><span class="p">])</span>
        <span class="n">instruction</span> <span class="o">=</span> <span class="p">[</span><span class="nf">int</span><span class="p">(</span><span class="n">input_match</span><span class="p">.</span><span class="nf">group</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
        <span class="n">instructions</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">stacks</span><span class="p">,</span> <span class="n">instructions</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="p">[</span><span class="n">stacks</span><span class="p">,</span> <span class="n">instructions</span><span class="p">]</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>

    <span class="c1">#star 1
</span>    <span class="k">for</span> <span class="n">instruction</span> <span class="ow">in</span> <span class="n">instructions</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">crate_no</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">instruction</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">stacks</span><span class="p">[</span><span class="n">instruction</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">stacks</span><span class="p">[</span><span class="n">instruction</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nf">pop</span><span class="p">())</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="sh">''</span><span class="p">.</span><span class="nf">join</span><span class="p">([</span><span class="n">stacks</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">pop</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">stacks</span><span class="p">))]))</span>
    
    <span class="c1">#star 2
</span>    <span class="p">[</span><span class="n">stacks</span><span class="p">,</span> <span class="n">instructions</span><span class="p">]</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">instruction</span> <span class="ow">in</span> <span class="n">instructions</span><span class="p">:</span>
        <span class="n">temp_stack</span> <span class="o">=</span> <span class="nf">deque</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">crate_no</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">instruction</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">temp_stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">stacks</span><span class="p">[</span><span class="n">instruction</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nf">pop</span><span class="p">())</span>  
        <span class="k">for</span> <span class="n">crate_no</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">temp_stack</span><span class="p">)):</span>
            <span class="n">stacks</span><span class="p">[</span><span class="n">instruction</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">temp_stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">())</span>

    <span class="nf">print</span><span class="p">(</span><span class="sh">''</span><span class="p">.</span><span class="nf">join</span><span class="p">([</span><span class="n">stacks</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">pop</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">stacks</span><span class="p">))]))</span>

<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-6" class="paragraph">
<p>Day 6 of year 2022
<a href="https://adventofcode.com/2022/day/6" class="bare">https://adventofcode.com/2022/day/6</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_6">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I am much faster if the parsing work at the beginning isn&#8217;t complicated. :-)</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_6">Approach</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I read in the string to start.</p>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br>
I use a moving window of 4 characters through the string. I convert the window to a set. If the set has a length of 4, that&#8217;s the marker.</p>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br>
It&#8217;s similar; you just use a window of 14 instead.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_7">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="k">def</span> <span class="nf">check_window</span><span class="p">(</span><span class="n">input_lines</span><span class="p">,</span><span class="n">length</span><span class="p">):</span>
    <span class="n">window</span> <span class="o">=</span> <span class="n">input_lines</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">length</span><span class="p">]</span>
    <span class="n">position</span> <span class="o">=</span> <span class="n">length</span>
    <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="nf">set</span><span class="p">(</span><span class="n">window</span><span class="p">))</span><span class="o">==</span><span class="n">length</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">position</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">input_lines</span><span class="p">[</span><span class="n">length</span><span class="p">:]:</span>
            <span class="n">position</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">window</span> <span class="o">=</span> <span class="n">input_lines</span><span class="p">[</span><span class="n">position</span> <span class="o">-</span> <span class="n">length</span><span class="p">:</span><span class="n">position</span><span class="p">]</span>
            <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="nf">set</span><span class="p">(</span><span class="n">window</span><span class="p">))</span><span class="o">==</span><span class="n">length</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">position</span>

    <span class="k">return</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1">#star 1
</span>    <span class="n">position</span> <span class="o">=</span> <span class="nf">check_window</span><span class="p">(</span><span class="n">input_lines</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">position</span><span class="p">)</span>
            
    <span class="c1">#star 2
</span>    <span class="n">position</span> <span class="o">=</span> <span class="nf">check_window</span><span class="p">(</span><span class="n">input_lines</span><span class="p">,</span><span class="mi">14</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">position</span><span class="p">)</span>

<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-7" class="paragraph">
<p>Day 7 of year 2022
<a href="https://adventofcode.com/2022/day/7" class="bare">https://adventofcode.com/2022/day/7</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_7">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Don&#8217;t use something as a key if it is not unique. (Which I knew principally, but I forgot to check for uniqueness before starting).</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_7">Approach</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I read in the commands and put them into a list of lists.</p>
</li>
<li>
<p>I set up a dictionary.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>The keys are the directory names with an additional counter (since the names are <strong>not</strong> unique), represented as a tuple.</p>
</li>
<li>
<p>The values are lists with:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>The parent directory</p>
</li>
<li>
<p>The size of the directory and its sub-directories and files (initialized to zero).</p>
</li>
<li>
<p>The size of each file in the directory and the tuples for any child directories.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>I calculate the size of each directory recursively and put those values into the dictionary.</p>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br>
You just go through the dictionary and sum up all values below the threshold.</p>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br>
It&#8217;s similar. I go through and if a value is big enough but less than the last one found, it&#8217;s the new minimum.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_8">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">lines_stripped</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>
    <span class="n">commands</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">split</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines_stripped</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">commands</span>

<span class="k">def</span> <span class="nf">dir_size</span><span class="p">(</span><span class="n">parent_child</span><span class="p">,</span> <span class="n">directory</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">parent_child</span><span class="p">[</span><span class="n">directory</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">parent_child</span><span class="p">[</span><span class="n">directory</span><span class="p">][</span><span class="mi">2</span><span class="p">:]:</span>
            <span class="k">if</span> <span class="nf">type</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">tuple</span><span class="p">:</span>
                <span class="n">parent_child</span><span class="p">[</span><span class="n">directory</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">parent_child</span><span class="p">[</span><span class="n">directory</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">item</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nf">dir_size</span><span class="p">(</span><span class="n">parent_child</span><span class="p">,</span><span class="n">item</span><span class="p">)</span>
                <span class="n">parent_child</span><span class="p">[</span><span class="n">directory</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">parent_child</span><span class="p">[</span><span class="n">directory</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">parent_child</span><span class="p">[</span><span class="n">item</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="n">commands</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>

    <span class="n">current_directory</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">/</span><span class="sh">"</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">parent_child</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">parent</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">/</span><span class="sh">"</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">parent_child</span><span class="p">[</span><span class="n">parent</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">current_directory</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">keys_used</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">/</span><span class="sh">"</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="n">commands</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">command</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">$</span><span class="sh">"</span> <span class="ow">and</span> <span class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">cd</span><span class="sh">"</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">command</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="sh">"</span><span class="s">..</span><span class="sh">"</span> <span class="ow">and</span> <span class="n">command</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="sh">"</span><span class="s">/</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">parent</span> <span class="o">=</span> <span class="n">current_directory</span>
                <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">parent_child</span><span class="p">[</span><span class="n">current_directory</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="nf">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">==</span> <span class="nb">tuple</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">command</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
                            <span class="n">current_directory</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">current_directory</span> <span class="o">=</span> <span class="n">parent</span>
                <span class="n">parent</span> <span class="o">=</span> <span class="n">parent_child</span><span class="p">[</span><span class="n">current_directory</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">command</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">$</span><span class="sh">"</span> <span class="ow">and</span> <span class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">ls</span><span class="sh">"</span><span class="p">:</span>
            <span class="n">parent_child</span><span class="p">[</span><span class="n">current_directory</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">parent</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">command</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="sh">"</span><span class="s">dir</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">parent_child</span><span class="p">[</span><span class="n">current_directory</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="nf">int</span><span class="p">(</span><span class="n">command</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="k">elif</span> <span class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">keys_used</span><span class="p">.</span><span class="nf">keys</span><span class="p">():</span>
                <span class="n">keys_used</span><span class="p">[</span><span class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">parent_child</span><span class="p">[</span><span class="n">current_directory</span><span class="p">].</span><span class="nf">append</span><span class="p">((</span><span class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">0</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">keys_used</span><span class="p">[</span><span class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">keys_used</span><span class="p">[</span><span class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">+</span><span class="mi">1</span>
                <span class="n">parent_child</span><span class="p">[</span><span class="n">current_directory</span><span class="p">].</span><span class="nf">append</span><span class="p">((</span><span class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">keys_used</span><span class="p">[</span><span class="n">command</span><span class="p">[</span><span class="mi">1</span><span class="p">]]))</span>

    <span class="nf">dir_size</span><span class="p">(</span><span class="n">parent_child</span><span class="p">,(</span><span class="sh">"</span><span class="s">/</span><span class="sh">"</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>

    <span class="c1">#star 1
</span>    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">parent_child</span><span class="p">.</span><span class="nf">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">100000</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">+=</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="nf">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>

    <span class="c1">#star 2
</span>    <span class="n">space_free</span> <span class="o">=</span> <span class="mi">70000000</span> <span class="o">-</span> <span class="n">parent_child</span><span class="p">[(</span><span class="sh">"</span><span class="s">/</span><span class="sh">"</span><span class="p">,</span><span class="mi">0</span><span class="p">)][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">space_needed</span> <span class="o">=</span> <span class="mi">30000000</span> <span class="o">-</span> <span class="n">space_free</span>

    <span class="n">smallest</span> <span class="o">=</span> <span class="mi">70000000</span>
    <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">parent_child</span><span class="p">.</span><span class="nf">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">space_needed</span> <span class="ow">and</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">smallest</span><span class="p">:</span>
            <span class="n">smallest</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="nf">print</span><span class="p">(</span><span class="n">smallest</span><span class="p">)</span>

<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-8" class="paragraph">
<p>Day 8 of year 2022
<a href="https://adventofcode.com/2022/day/8" class="bare">https://adventofcode.com/2022/day/8</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_8">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>That a nested list is not a matrix. I always somehow forget this.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_8">Approach</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I read in the tree heights and put them into a 2d numpy array (a 2d matrix).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br>
I skip the trees on the edges (they are all visible so you just add them to the sum). And then for each of the trees, I look for the max of the other trees in the 4 cardinal directions and see if the tree is higher than the max. If it is true in any direction, that tree is visible.</p>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br>
It&#8217;s similar. In each of the four directions, you go through each tree until one is higher or equal and then add up the number of trees you had to look at in that direction. Multiple those 4 numbers and check if it bigger than the max score up until now.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_9">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">lines_stripped</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>
    <span class="n">trees</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="nf">int</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span> <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">line</span><span class="p">]</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines_stripped</span><span class="p">])</span>
    
    <span class="k">return</span> <span class="n">trees</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="n">trees</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>

    <span class="c1"># star 1
</span>    <span class="n">visible</span> <span class="o">=</span> <span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">trees</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">4</span>
    <span class="k">for</span> <span class="n">row_no</span><span class="p">,</span><span class="n">row</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">trees</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">row_no</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">row_no</span> <span class="o">!=</span> <span class="nf">len</span><span class="p">(</span><span class="n">trees</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">col_no</span><span class="p">,</span><span class="n">tree</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">col_no</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">col_no</span> <span class="o">!=</span> <span class="nf">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">tree</span> <span class="o">&gt;</span> <span class="nf">max</span><span class="p">(</span><span class="n">trees</span><span class="p">[</span><span class="n">row_no</span><span class="p">,:</span><span class="n">col_no</span><span class="p">])</span> <span class="ow">or</span> <span class="n">tree</span> <span class="o">&gt;</span> <span class="nf">max</span><span class="p">(</span><span class="n">trees</span><span class="p">[:</span><span class="n">row_no</span><span class="p">,</span><span class="n">col_no</span><span class="p">])</span> \
                        <span class="ow">or</span> <span class="n">tree</span> <span class="o">&gt;</span> <span class="nf">max</span><span class="p">(</span><span class="n">trees</span><span class="p">[</span><span class="n">row_no</span><span class="p">,</span><span class="n">col_no</span><span class="o">+</span><span class="mi">1</span><span class="p">:])</span> <span class="ow">or</span> <span class="n">tree</span> <span class="o">&gt;</span> <span class="nf">max</span><span class="p">(</span><span class="n">trees</span><span class="p">[</span><span class="n">row_no</span><span class="o">+</span><span class="mi">1</span><span class="p">:,</span><span class="n">col_no</span><span class="p">]):</span>
                            <span class="n">visible</span> <span class="o">+=</span> <span class="mi">1</span>
                        
    <span class="nf">print</span><span class="p">(</span><span class="n">visible</span><span class="p">)</span>
            
    <span class="c1"># star 2
</span>    <span class="n">max_scenic_score</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">row_no</span><span class="p">,</span><span class="n">row</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">trees</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">row_no</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">row_no</span> <span class="o">!=</span> <span class="nf">len</span><span class="p">(</span><span class="n">trees</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">col_no</span><span class="p">,</span><span class="n">tree</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">col_no</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">col_no</span> <span class="o">!=</span> <span class="nf">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">index1</span><span class="p">,</span><span class="n">next_tree</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">flip</span><span class="p">(</span><span class="n">trees</span><span class="p">[</span><span class="n">row_no</span><span class="p">,:</span><span class="n">col_no</span><span class="p">])):</span>
                        <span class="k">if</span> <span class="n">next_tree</span> <span class="o">&gt;=</span> <span class="n">tree</span><span class="p">:</span>
                            <span class="n">scenic1</span> <span class="o">=</span> <span class="n">index1</span><span class="o">+</span><span class="mi">1</span>
                            <span class="k">break</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">scenic1</span> <span class="o">=</span> <span class="n">col_no</span>
                    <span class="k">for</span> <span class="n">index1</span><span class="p">,</span><span class="n">next_tree</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">trees</span><span class="p">[</span><span class="n">row_no</span><span class="p">,</span><span class="n">col_no</span><span class="o">+</span><span class="mi">1</span><span class="p">:]):</span>
                        <span class="k">if</span> <span class="n">next_tree</span> <span class="o">&gt;=</span> <span class="n">tree</span><span class="p">:</span>
                            <span class="n">scenic2</span> <span class="o">=</span> <span class="n">index1</span><span class="o">+</span><span class="mi">1</span>
                            <span class="k">break</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">scenic2</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">trees</span><span class="p">)</span><span class="o">-</span><span class="n">col_no</span><span class="o">-</span><span class="mi">1</span>
                    <span class="k">for</span> <span class="n">index1</span><span class="p">,</span><span class="n">next_tree</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="nf">flip</span><span class="p">(</span><span class="n">trees</span><span class="p">[:</span><span class="n">row_no</span><span class="p">,</span><span class="n">col_no</span><span class="p">])):</span>
                        <span class="k">if</span> <span class="n">next_tree</span> <span class="o">&gt;=</span> <span class="n">tree</span><span class="p">:</span>
                            <span class="n">scenic3</span> <span class="o">=</span> <span class="n">index1</span><span class="o">+</span><span class="mi">1</span>
                            <span class="k">break</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">scenic3</span> <span class="o">=</span> <span class="n">row_no</span>
                    <span class="k">for</span> <span class="n">index1</span><span class="p">,</span><span class="n">next_tree</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">trees</span><span class="p">[</span><span class="n">row_no</span><span class="o">+</span><span class="mi">1</span><span class="p">:,</span><span class="n">col_no</span><span class="p">]):</span>
                        <span class="k">if</span> <span class="n">next_tree</span> <span class="o">&gt;=</span> <span class="n">tree</span><span class="p">:</span>
                            <span class="n">scenic4</span> <span class="o">=</span> <span class="n">index1</span><span class="o">+</span><span class="mi">1</span>
                            <span class="k">break</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">scenic4</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">trees</span><span class="p">)</span><span class="o">-</span><span class="n">row_no</span><span class="o">-</span><span class="mi">1</span>                    
                            
                    <span class="n">scenic_score</span> <span class="o">=</span> <span class="n">scenic1</span><span class="o">*</span><span class="n">scenic2</span><span class="o">*</span><span class="n">scenic3</span><span class="o">*</span><span class="n">scenic4</span>
                    <span class="k">if</span> <span class="n">scenic_score</span> <span class="o">&gt;</span> <span class="n">max_scenic_score</span><span class="p">:</span>
                        <span class="n">max_scenic_score</span> <span class="o">=</span> <span class="n">scenic_score</span>
                        
    <span class="nf">print</span><span class="p">(</span><span class="n">max_scenic_score</span><span class="p">)</span>
    
<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-9" class="paragraph">
<p>Day 9 of year 2022
<a href="https://adventofcode.com/2022/day/9" class="bare">https://adventofcode.com/2022/day/9</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_9">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>For once, I solved star 1 in a way that didn&#8217;t require much refactoring for star 2. :-)</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_9">Approach</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I read in the commands and turn the directions into tuples representing the direction.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br>
You just go through and check if the new position of the head is within the 9 adjacent positions or is the same position. If so, do nothing with the tail. Otherwise, move as required.</p>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br>
Here you have the same basic situation but you have to keep track of multiple ropes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_10">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">lines_stripped</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>
    <span class="n">moves</span> <span class="o">=</span> <span class="p">[((</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="nf">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">2</span><span class="p">:]))</span> <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">R</span><span class="sh">"</span> \
             <span class="nf">else </span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="nf">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">2</span><span class="p">:]))</span> <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">L</span><span class="sh">"</span> \
                   <span class="nf">else </span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nf">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">2</span><span class="p">:]))</span> <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">U</span><span class="sh">"</span> \
                       <span class="nf">else </span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="nf">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">2</span><span class="p">:]))</span> \
                           <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines_stripped</span><span class="p">]</span>
              
    <span class="k">return</span> <span class="n">moves</span>

<span class="k">def</span> <span class="nf">move_ropes</span><span class="p">(</span><span class="n">move</span><span class="p">,</span><span class="n">current_h</span><span class="p">,</span><span class="n">current_t</span><span class="p">):</span>

    <span class="n">current_h</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">move</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">current_h</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">move</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">difference</span> <span class="o">=</span> <span class="p">[</span><span class="n">current_h</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">current_t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">current_h</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">current_t</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
    <span class="k">if</span> <span class="n">difference</span> <span class="ow">in</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">difference</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">current_t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">difference</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">current_t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">difference</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">current_t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">difference</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">current_t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">current_h</span><span class="p">,</span> <span class="n">current_t</span><span class="p">,</span> <span class="nf">tuple</span><span class="p">(</span><span class="n">current_t</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="n">moves</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>
    
    <span class="c1"># star 1
</span>    <span class="n">positions</span> <span class="o">=</span> <span class="nf">set</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)])</span>
    <span class="n">current_h</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">current_t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">moves</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">move</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
            <span class="n">current_h</span><span class="p">,</span> <span class="n">current_t</span><span class="p">,</span><span class="n">positions_temp</span> <span class="o">=</span> <span class="nf">move_ropes</span><span class="p">(</span><span class="n">move</span><span class="p">,</span> <span class="n">current_h</span><span class="p">,</span> <span class="n">current_t</span><span class="p">)</span>
            <span class="n">positions</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">positions_temp</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">positions</span><span class="p">))</span>
            
    <span class="c1"># star 2
</span>    <span class="n">positions</span> <span class="o">=</span> <span class="nf">set</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)])</span>
    <span class="n">current_rope</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">moves</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">index1</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">move</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
            <span class="n">move_temp</span> <span class="o">=</span> <span class="n">move</span>
            <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
                <span class="n">current_h</span> <span class="o">=</span> <span class="n">current_rope</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
                <span class="n">current_t</span> <span class="o">=</span> <span class="n">current_rope</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">current_h</span><span class="p">,</span> <span class="n">current_t</span><span class="p">,</span><span class="n">positions_temp</span> <span class="o">=</span> <span class="nf">move_ropes</span><span class="p">(</span><span class="n">move_temp</span><span class="p">,</span> <span class="n">current_h</span><span class="p">,</span> <span class="n">current_t</span><span class="p">)</span>
                <span class="n">move_temp</span> <span class="o">=</span> <span class="p">((</span><span class="n">current_t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">current_rope</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">current_t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">current_rope</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span><span class="n">move</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">current_rope</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_h</span>
            <span class="n">positions</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">positions_temp</span><span class="p">)</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">positions</span><span class="p">))</span>
    
<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-10" class="paragraph">
<p>Day 10 of year 2022
<a href="https://adventofcode.com/2022/day/10" class="bare">https://adventofcode.com/2022/day/10</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_10">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I was happy to solve a puzzle involving drawing with no major issues.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_10">Approach</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I take the input and turn it into a list of tuples with the number of CPU cycles used and the value to be added (0 for noop).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br>
. I create a list of the CPU cycles and the value. If the CPU cycle is greater than the next relevant multiple of 40, then you add the last value before that to the list. Afterwards, you do the math.</p>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br>
. I created a dictionary with all of the sprite positions. You do the drawing with 2 nested for loops.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_11">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">lines_stripped</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>
    
    <span class="n">instructions</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="n">inst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="sh">"</span><span class="s">n</span><span class="sh">"</span> <span class="nf">else </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="nf">int</span><span class="p">(</span><span class="n">inst</span><span class="p">[</span><span class="mi">5</span><span class="p">:]))</span> <span class="k">for</span> <span class="n">inst</span> <span class="ow">in</span> <span class="n">lines_stripped</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">instructions</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="n">instructions</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>
    
    <span class="c1"># star 1
</span>    <span class="n">cpu</span> <span class="o">=</span> <span class="nf">list</span><span class="p">()</span>
    <span class="n">cpu</span><span class="p">.</span><span class="nf">append</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">values</span> <span class="o">=</span> <span class="nf">list</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">inst</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">instructions</span><span class="p">):</span>
        <span class="n">cpu</span><span class="p">.</span><span class="nf">append</span><span class="p">([</span><span class="n">cpu</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">inst</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">cpu</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">inst</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">cpu</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">20</span> <span class="o">+</span> <span class="nf">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span><span class="o">*</span><span class="mi">40</span><span class="p">:</span>
            <span class="n">values</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">cpu</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>

    <span class="nf">print</span><span class="p">(</span><span class="nf">sum</span><span class="p">([</span><span class="n">value</span><span class="o">*</span><span class="p">(</span><span class="mi">20</span><span class="o">+</span><span class="mi">40</span><span class="o">*</span><span class="n">index</span><span class="p">)</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">values</span><span class="p">)]))</span>
        
    <span class="c1"># star 2
</span>    <span class="n">sprite</span> <span class="o">=</span> <span class="p">{</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]:[</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cpu</span><span class="p">}</span>
    <span class="n">keys</span> <span class="o">=</span> <span class="n">sprite</span><span class="p">.</span><span class="nf">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">240</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
            <span class="n">current_sprite</span> <span class="o">=</span> <span class="n">sprite</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sprite</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_sprite</span>
 
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">40</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sprite</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">*</span><span class="mi">40</span><span class="p">]:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">#</span><span class="sh">"</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="sh">''</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">.</span><span class="sh">"</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="sh">''</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">""</span><span class="p">)</span>
        
<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-11" class="paragraph">
<p>Day 11 of year 2022
<a href="https://adventofcode.com/2022/day/11" class="bare">https://adventofcode.com/2022/day/11</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_11">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The first day this year that you really had to think a bit. No new programming tricks, just had to think about the math (especially what happens to remainders).</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_11">Approach</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I take the input and turn it into a monkey dictionary with the worry values of each item that monkey has, the operator and number (or "old"), the divisor and to which monkeys the items go in a list.</p>
</li>
<li>
<p>This worked fine for star 1 but was not well suited for star 2.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You go through a loop 20 times, each time you do the math and move the monkeys around. The worries grow, but with 20 loops its not an issue. Each round through you count how many items that monkey looked at. At the end, you grab the number of looks for each monkey, sort the list and multiple the first 2.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>My first attempt was to move the worry numbers out of the monkey dictionary into a seperate dictionary. That way, I saved a copy and the performance was better, but the numbers get too big at some point. So, this way was a day end.</p>
</li>
<li>
<p>I thought about the math a bit. Actually, you only need the remainder each time to decide where to send the item. So, I calculated the remainder of each item divided by the rule of each monkey. If you think about it, adding a number can be added to the remainder, multiplying as well and squaring and doubling as well. You just need to mod it again afterwards. So, I just keep track of the remainders (which never get big obviously&#8230;&#8203;). It ran in a second or 2.</p>
</li>
<li>
<p>I think I could have saved the extra dictionary in the end, but I left it since it works fine.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_12">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="kn">import</span> <span class="n">regex</span> <span class="k">as</span> <span class="n">re</span>

<span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">lines_stripped</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>
    
    <span class="n">monkeys</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">()</span>
    <span class="n">item_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sh">"</span><span class="s">(\d+)</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">monkey</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">((</span><span class="nf">len</span><span class="p">(</span><span class="n">lines_stripped</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">//</span><span class="mi">7</span><span class="p">):</span>
        <span class="n">first_line</span> <span class="o">=</span> <span class="n">monkey</span><span class="o">*</span><span class="mi">7</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="nf">int</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">re</span><span class="p">.</span><span class="nf">findall</span><span class="p">(</span><span class="n">item_pattern</span><span class="p">,</span> <span class="n">lines_stripped</span><span class="p">[</span><span class="n">first_line</span><span class="o">+</span><span class="mi">1</span><span class="p">])]</span>
        <span class="n">operation</span> <span class="o">=</span> <span class="p">(</span><span class="n">lines_stripped</span><span class="p">[</span><span class="n">first_line</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="mi">21</span><span class="p">],</span><span class="n">lines_stripped</span><span class="p">[</span><span class="n">first_line</span><span class="o">+</span><span class="mi">2</span><span class="p">][</span><span class="mi">23</span><span class="p">:])</span>
        <span class="n">test</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="nf">findall</span><span class="p">(</span><span class="n">item_pattern</span><span class="p">,</span> <span class="n">lines_stripped</span><span class="p">[</span><span class="n">first_line</span><span class="o">+</span><span class="mi">3</span><span class="p">])[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">is_true</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="nf">findall</span><span class="p">(</span><span class="n">item_pattern</span><span class="p">,</span> <span class="n">lines_stripped</span><span class="p">[</span><span class="n">first_line</span><span class="o">+</span><span class="mi">4</span><span class="p">])[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">is_false</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="nf">findall</span><span class="p">(</span><span class="n">item_pattern</span><span class="p">,</span> <span class="n">lines_stripped</span><span class="p">[</span><span class="n">first_line</span><span class="o">+</span><span class="mi">5</span><span class="p">])[</span><span class="mi">0</span><span class="p">])</span>
        
        <span class="n">monkeys</span><span class="p">[</span><span class="nf">int</span><span class="p">(</span><span class="n">lines_stripped</span><span class="p">[</span><span class="n">first_line</span><span class="p">][</span><span class="mi">7</span><span class="p">])]</span> <span class="o">=</span> <span class="p">[</span><span class="n">items</span><span class="p">,</span><span class="n">operation</span><span class="p">,</span><span class="n">test</span><span class="p">,</span><span class="n">is_true</span><span class="p">,</span><span class="n">is_false</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">monkeys</span>

<span class="k">def</span> <span class="nf">process_monkey</span><span class="p">(</span><span class="n">monkeys</span><span class="p">,</span><span class="n">monkey</span><span class="p">,</span><span class="n">worry_divider</span><span class="p">):</span>
    <span class="n">item_no</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">*</span><span class="sh">'</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">].</span><span class="nf">isdigit</span><span class="p">():</span>
                <span class="n">new_worry</span> <span class="o">=</span> <span class="n">item</span><span class="o">*</span><span class="nf">int</span><span class="p">(</span><span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_worry</span> <span class="o">=</span> <span class="n">item</span><span class="o">*</span><span class="n">item</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">].</span><span class="nf">isdigit</span><span class="p">():</span>
                <span class="n">new_worry</span> <span class="o">=</span> <span class="n">item</span><span class="o">+</span><span class="nf">int</span><span class="p">(</span><span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_worry</span> <span class="o">=</span> <span class="n">item</span><span class="o">+</span><span class="n">item</span>
        <span class="n">new_worry</span> <span class="o">=</span> <span class="n">new_worry</span> <span class="o">//</span> <span class="n">worry_divider</span>
        <span class="k">if</span> <span class="n">new_worry</span> <span class="o">%</span> <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">monkeys</span><span class="p">[</span><span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">3</span><span class="p">]][</span><span class="mi">0</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">new_worry</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">monkeys</span><span class="p">[</span><span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">4</span><span class="p">]][</span><span class="mi">0</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">new_worry</span><span class="p">)</span>
            
    <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nf">list</span><span class="p">()</span>
    <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span> <span class="o">+=</span> <span class="n">item_no</span>
    
    <span class="k">return</span>

<span class="k">def</span> <span class="nf">process_monkey2</span><span class="p">(</span><span class="n">monkeys</span><span class="p">,</span><span class="n">monkey</span><span class="p">,</span><span class="n">items</span><span class="p">):</span>
    <span class="n">item_no</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">*</span><span class="sh">'</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">].</span><span class="nf">isdigit</span><span class="p">():</span>
                <span class="n">items</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="n">items</span><span class="p">[</span><span class="n">item</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="nf">int</span><span class="p">(</span><span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]))</span><span class="o">%</span><span class="n">monkeys</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">monkeys</span><span class="p">))]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">items</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="n">items</span><span class="p">[</span><span class="n">item</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">%</span><span class="n">monkeys</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">monkeys</span><span class="p">))]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">].</span><span class="nf">isdigit</span><span class="p">():</span>
                <span class="n">items</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="n">items</span><span class="p">[</span><span class="n">item</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="nf">int</span><span class="p">(</span><span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]))</span><span class="o">%</span><span class="n">monkeys</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">monkeys</span><span class="p">))]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">items</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="n">items</span><span class="p">[</span><span class="n">item</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span><span class="o">%</span><span class="n">monkeys</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">monkeys</span><span class="p">))]</span>
        <span class="k">if</span> <span class="n">items</span><span class="p">[</span><span class="n">item</span><span class="p">][</span><span class="n">monkey</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">monkeys</span><span class="p">[</span><span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">3</span><span class="p">]][</span><span class="mi">0</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">monkeys</span><span class="p">[</span><span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">4</span><span class="p">]][</span><span class="mi">0</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            
    <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nf">list</span><span class="p">()</span>
    <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span> <span class="o">+=</span> <span class="n">item_no</span>
    
    <span class="k">return</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>
    
    <span class="c1"># star 1
</span>    <span class="n">monkeys</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">monkey</span> <span class="ow">in</span> <span class="n">monkeys</span><span class="p">:</span>
            <span class="nf">process_monkey</span><span class="p">(</span><span class="n">monkeys</span><span class="p">,</span><span class="n">monkey</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        
    <span class="n">inspections</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">monkeys</span><span class="p">.</span><span class="nf">values</span><span class="p">()]</span>
    <span class="n">inspections</span><span class="p">.</span><span class="nf">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">inspections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">inspections</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    
    <span class="c1"># star 2
</span>    <span class="n">monkeys</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>
    
    <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">items</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">monkey</span> <span class="ow">in</span> <span class="n">monkeys</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">item</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">0</span><span class="p">]):</span>
            <span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="o">%</span> <span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">monkeys</span><span class="p">.</span><span class="nf">values</span><span class="p">()]</span>
            <span class="n">monkeys</span><span class="p">[</span><span class="n">monkey</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">index</span>
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
 
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">monkey</span> <span class="ow">in</span> <span class="n">monkeys</span><span class="p">:</span>
            <span class="nf">process_monkey2</span><span class="p">(</span><span class="n">monkeys</span><span class="p">,</span><span class="n">monkey</span><span class="p">,</span><span class="n">items</span><span class="p">)</span>
    
    <span class="n">inspections</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">monkeys</span><span class="p">.</span><span class="nf">values</span><span class="p">()]</span>
    <span class="n">inspections</span><span class="p">.</span><span class="nf">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">inspections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">inspections</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        
<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-12" class="paragraph">
<p>Day 12 of year 2022
<a href="https://adventofcode.com/2022/day/12" class="bare">https://adventofcode.com/2022/day/12</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_12">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Refreshed Dijkstra&#8217;s algorithm which I used last year for Day 15.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_12">Approach</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I took the input and created a list of lists from it. The list contains an index, the letter, a distance, the neighbors of the entry and a zero (for the parent, which isn&#8217;t known yet). The distance is zero if the letter is "S" and Inf for anything else. I then clean up the neighbors to only include those that you can reach (lower or at most one letter bigger than the current letter. "S" counts as "a" and "E" counts as z, as exceptions).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You just use Dijkstra&#8217;s algorithm and stop the loop whenever you hit "E". The current distance is then the answer.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Again, Dijkstra&#8217;s, but multiple times. You just have to reinitialize your list of lists to set the distances right (you are starting at a particular "a" and not "S" anymore). You also have the case now that you can&#8217;t actually reach "E" from an "a". Then, I set the distance to Inf. You find the min over all of your runs for the answer.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_13">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">lines_stripped</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>

    <span class="n">nodes</span> <span class="o">=</span> <span class="nf">list</span><span class="p">()</span>
    <span class="n">line_length</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">lines_stripped</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">no_rows</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">lines_stripped</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">line</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">lines_stripped</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span><span class="n">letter</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
            <span class="n">adjacent</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="o">*</span><span class="n">line_length</span><span class="o">+</span><span class="n">j</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">adjacent</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">index</span><span class="o">-</span><span class="n">line_length</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">no_rows</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">adjacent</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="n">line_length</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">%</span> <span class="n">line_length</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">adjacent</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">index</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="nf">if </span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">line_length</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">adjacent</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">letter</span> <span class="o">==</span> <span class="sh">"</span><span class="s">S</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">distance</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">distance</span> <span class="o">=</span> <span class="nf">float</span><span class="p">(</span><span class="sh">'</span><span class="s">Inf</span><span class="sh">'</span><span class="p">)</span>
            <span class="n">nodes</span><span class="p">.</span><span class="nf">append</span><span class="p">([</span><span class="n">index</span><span class="p">,</span><span class="n">letter</span><span class="p">,</span><span class="n">distance</span><span class="p">,</span><span class="n">adjacent</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">nodes</span><span class="p">)):</span>
        <span class="n">temp_neighbors</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="mi">3</span><span class="p">].</span><span class="nf">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">neighbor</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="mi">3</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">nodes</span><span class="p">[</span><span class="n">neighbor</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">S</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">temp_neighbor</span> <span class="o">=</span> <span class="sh">"</span><span class="s">a</span><span class="sh">"</span>
            <span class="k">elif</span> <span class="n">nodes</span><span class="p">[</span><span class="n">neighbor</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">E</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">temp_neighbor</span> <span class="o">=</span> <span class="sh">"</span><span class="s">z</span><span class="sh">"</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">temp_neighbor</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[</span><span class="n">neighbor</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">S</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">temp_node</span> <span class="o">=</span> <span class="sh">"</span><span class="s">a</span><span class="sh">"</span>
            <span class="k">elif</span> <span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">E</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">temp_node</span> <span class="o">=</span> <span class="sh">"</span><span class="s">z</span><span class="sh">"</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">temp_node</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="nf">ord</span><span class="p">(</span><span class="n">temp_neighbor</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nf">ord</span><span class="p">(</span><span class="n">temp_node</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">temp_neighbors</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">neighbor</span><span class="p">)</span>
        <span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp_neighbors</span>

    <span class="k">return</span> <span class="n">nodes</span>

<span class="k">def</span> <span class="nf">find_shortest_path</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span><span class="n">current_node</span><span class="p">):</span>
    <span class="n">visited</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>

    <span class="n">valued</span> <span class="o">=</span> <span class="p">{</span><span class="n">current_node</span><span class="p">}</span>
    <span class="k">while</span> <span class="n">nodes</span><span class="p">[</span><span class="n">current_node</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="sh">'</span><span class="s">E</span><span class="sh">'</span><span class="p">:</span>
        <span class="n">neighbors</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[</span><span class="n">current_node</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">valued</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">neighbors</span><span class="o">-</span><span class="n">visited</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">neighbor</span> <span class="ow">in</span> <span class="n">neighbors</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">nodes</span><span class="p">[</span><span class="n">neighbor</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nodes</span><span class="p">[</span><span class="n">current_node</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">nodes</span><span class="p">[</span><span class="n">neighbor</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[</span><span class="n">current_node</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span>
                    <span class="n">nodes</span><span class="p">[</span><span class="n">neighbor</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_node</span>

        <span class="n">visited</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">current_node</span><span class="p">)</span>
        <span class="n">valued</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">current_node</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">valued</span> <span class="o">!=</span> <span class="nf">set</span><span class="p">():</span>
            <span class="n">min_distance</span> <span class="o">=</span> <span class="nf">min</span><span class="p">([</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">valued</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">float</span><span class="p">(</span><span class="sh">'</span><span class="s">Inf</span><span class="sh">'</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">valued</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">min_distance</span><span class="p">:</span>
                <span class="n">current_node</span> <span class="o">=</span> <span class="n">node</span>

    <span class="n">risk</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[</span><span class="n">current_node</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">risk</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="c1">#star 1
</span>    <span class="n">nodes</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">S</span><span class="sh">'</span><span class="p">:</span>
            <span class="n">current_node</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">node_S</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">risk</span> <span class="o">=</span> <span class="nf">find_shortest_path</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span><span class="n">current_node</span><span class="p">)</span>

    <span class="nf">print</span><span class="p">(</span><span class="n">risk</span><span class="p">)</span>

    <span class="c1">#star 2
</span>    
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">:</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>
            <span class="n">nodes</span><span class="p">[</span><span class="n">node_S</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nf">float</span><span class="p">(</span><span class="sh">'</span><span class="s">Inf</span><span class="sh">'</span><span class="p">)</span>
            <span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">temp_risk</span> <span class="o">=</span> <span class="nf">find_shortest_path</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">temp_risk</span> <span class="o">&lt;</span> <span class="n">risk</span><span class="p">:</span>
                <span class="n">risk</span> <span class="o">=</span> <span class="n">temp_risk</span>

    <span class="nf">print</span><span class="p">(</span><span class="n">risk</span><span class="p">)</span>

<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-13" class="paragraph">
<p>Day 13 of year 2022
<a href="https://adventofcode.com/2022/day/13" class="bare">https://adventofcode.com/2022/day/13</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_13">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Mostly it was a pain to figure out the right parsing. And I also used bubble sort, which I learned way back in the 80&#8217;s. (It&#8217;s not the best, but it&#8217;s easy to understand).</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_13">Approach</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I parse through each line using a function called parse_line. If you find a list somewhere as an entry, you find the closing ] and push that string into parse_line. Otherwise, it&#8217;s fairly straightforward. At the end, I have a list of lists that correspond to the strings in the input file.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I made a function called compare_signals. For each of the cases, I created the logic. If you are comparing lists instead of digits, you call compare_signals again. We return as soon as we have a True or False. Then I just do the math as defined in the problem statement.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I add the 2 new packets to my list. And then just run bubble sort using my compare_signals function. I used bubble sort because I could 1-1 reuse my function and it&#8217;s also easy to understand. The performance isn&#8217;t an issue with such a sort list.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_14">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">lines_stripped</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>

    <span class="n">signals</span> <span class="o">=</span> <span class="nf">list</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines_stripped</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">line</span> <span class="o">!=</span> <span class="sh">''</span><span class="p">:</span>
            <span class="n">signal</span> <span class="o">=</span> <span class="nf">process_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="n">signals</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">signal</span><span class="p">)</span>
            
    <span class="k">return</span> <span class="n">signals</span>

<span class="k">def</span> <span class="nf">process_line</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
    <span class="n">signal</span> <span class="o">=</span> <span class="nf">list</span><span class="p">()</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">line</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">!=</span> <span class="sh">'</span><span class="s">]</span><span class="sh">'</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="n">n</span><span class="p">].</span><span class="nf">isdigit</span><span class="p">():</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">n</span>
            <span class="k">while</span> <span class="n">line</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="sh">'</span><span class="s">,</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">]</span><span class="sh">'</span><span class="p">]:</span>
                <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span>
            <span class="n">signal</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nf">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="n">m</span><span class="p">:</span><span class="n">n</span><span class="p">]))</span>
            <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">,</span><span class="sh">"</span><span class="p">:</span>
                <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">n</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span>
            <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">while</span> <span class="n">count</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">[</span><span class="sh">"</span><span class="p">:</span>
                    <span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">elif</span> <span class="n">line</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">==</span> <span class="sh">"</span><span class="s">]</span><span class="sh">"</span><span class="p">:</span>
                    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
                    
                <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">signal</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nf">process_line</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="n">m</span><span class="p">:</span><span class="n">n</span><span class="p">]))</span>
            <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">,</span><span class="sh">'</span><span class="p">:</span>
                <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span>
    
    <span class="k">return</span> <span class="n">signal</span>

<span class="k">def</span> <span class="nf">compare_signals</span><span class="p">(</span><span class="n">signal1</span><span class="p">,</span><span class="n">signal2</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">signal1</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">signal2</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">item</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">signal1</span><span class="p">):</span>
        <span class="k">if</span> <span class="nf">type</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nf">len</span><span class="p">(</span><span class="n">signal2</span><span class="p">):</span>
                <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">signal1</span><span class="p">)</span><span class="o">&gt;</span><span class="nf">len</span><span class="p">(</span><span class="n">signal2</span><span class="p">):</span>
                    <span class="k">return</span> <span class="bp">False</span>
            
            <span class="k">if</span> <span class="nf">type</span><span class="p">(</span><span class="n">signal2</span><span class="p">[</span><span class="n">index</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">item</span> <span class="o">&gt;</span> <span class="n">signal2</span><span class="p">[</span><span class="n">index</span><span class="p">]:</span>
                    <span class="k">return</span> <span class="bp">False</span>
                <span class="k">elif</span> <span class="n">item</span> <span class="o">&lt;</span> <span class="n">signal2</span><span class="p">[</span><span class="n">index</span><span class="p">]:</span>
                    <span class="k">return</span> <span class="bp">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="nf">compare_signals</span><span class="p">([</span><span class="n">item</span><span class="p">],</span><span class="n">signal2</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">status</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">True</span><span class="p">,</span><span class="bp">False</span><span class="p">]:</span>
                    <span class="k">return</span> <span class="n">status</span>
            
            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nf">len</span><span class="p">(</span><span class="n">signal1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">signal1</span><span class="p">)</span><span class="o">&lt;</span><span class="nf">len</span><span class="p">(</span><span class="n">signal2</span><span class="p">):</span>
                    <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nf">len</span><span class="p">(</span><span class="n">signal2</span><span class="p">):</span>
                <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">signal1</span><span class="p">)</span><span class="o">&gt;</span><span class="nf">len</span><span class="p">(</span><span class="n">signal2</span><span class="p">):</span>
                    <span class="k">return</span> <span class="bp">False</span>
    
            <span class="k">if</span> <span class="nf">type</span><span class="p">(</span><span class="n">signal2</span><span class="p">[</span><span class="n">index</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="nf">compare_signals</span><span class="p">(</span><span class="n">item</span><span class="p">,[</span><span class="n">signal2</span><span class="p">[</span><span class="n">index</span><span class="p">]])</span>
                <span class="k">if</span> <span class="n">status</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">True</span><span class="p">,</span><span class="bp">False</span><span class="p">]:</span>
                    <span class="k">return</span> <span class="n">status</span>  
            <span class="k">else</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="nf">compare_signals</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="n">signal2</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">status</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">True</span><span class="p">,</span><span class="bp">False</span><span class="p">]:</span>
                    <span class="k">return</span> <span class="n">status</span>  
    
            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nf">len</span><span class="p">(</span><span class="n">signal1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">signal1</span><span class="p">)</span><span class="o">&lt;</span><span class="nf">len</span><span class="p">(</span><span class="n">signal2</span><span class="p">):</span>
                    <span class="k">return</span> <span class="bp">True</span>    
    
    <span class="k">return</span>

<span class="k">def</span> <span class="nf">bubble_sort</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">already_sorted</span> <span class="o">=</span> <span class="bp">True</span>
        
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nf">compare_signals</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">array</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]):</span>
                <span class="n">array</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">array</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">array</span><span class="p">[</span><span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="n">already_sorted</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="k">if</span> <span class="n">already_sorted</span><span class="p">:</span>

            <span class="k">break</span>

    <span class="k">return</span> <span class="n">array</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="c1">#star 1
</span>    <span class="n">signals</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>
    
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">sum_indices</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">signals</span><span class="p">):</span>
        <span class="k">if</span> <span class="nf">compare_signals</span><span class="p">(</span><span class="n">signals</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">signals</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]):</span>
            <span class="n">sum_indices</span> <span class="o">+=</span> <span class="n">i</span><span class="o">//</span><span class="mi">2</span> <span class="o">+</span><span class="mi">1</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span>

    <span class="nf">print</span><span class="p">(</span><span class="n">sum_indices</span><span class="p">)</span>

    <span class="c1">#star 2
</span>    <span class="n">signals</span><span class="p">.</span><span class="nf">extend</span><span class="p">([[[</span><span class="mi">2</span><span class="p">]],[[</span><span class="mi">6</span><span class="p">]]])</span>

    <span class="n">new_signals</span> <span class="o">=</span> <span class="nf">bubble_sort</span><span class="p">(</span><span class="n">signals</span><span class="p">)</span>
    
    <span class="n">decoder</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">signal</span> <span class="ow">in</span> <span class="n">new_signals</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">signal</span> <span class="ow">in</span> <span class="p">[[[</span><span class="mi">2</span><span class="p">]],[[</span><span class="mi">6</span><span class="p">]]]:</span>
             <span class="n">decoder</span> <span class="o">*=</span> <span class="n">i</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span><span class="mi">1</span>
        
    <span class="nf">print</span><span class="p">(</span><span class="n">decoder</span><span class="p">)</span>
             

<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-14" class="paragraph">
<p>Day 14 of year 2022
<a href="https://adventofcode.com/2022/day/14" class="bare">https://adventofcode.com/2022/day/14</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_14">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The most challenging was to think about how to parse the file easily.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_14">Approach</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I use regex to fish out all of the numbers in the lines of the input file. Then I go through them pair-wise and create a set of tuples with all of the occupied spots in the cave. Fortunately, it&#8217;s not too big. :-)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I just let the sand fall and check if it hits an occupied spot and follow the rules. After I find it&#8217;s resting spot, i put it into my set containing all of the occupied spots. I do this until a sand falls below my deepest point.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Yoohoo! No major changes necessary. I just add one to my deepest point and exit the loop when (500,0) is occupied. You have to get lucky sometimes.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_15">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="kn">import</span> <span class="n">regex</span> <span class="k">as</span> <span class="n">re</span>

<span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">lines_stripped</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>

    <span class="n">input_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sh">"</span><span class="s">(\d+)</span><span class="sh">"</span><span class="p">)</span>

    <span class="n">rocks</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines_stripped</span><span class="p">:</span>
        <span class="n">ends</span> <span class="o">=</span> <span class="p">[</span><span class="nf">int</span><span class="p">(</span><span class="n">coord</span><span class="p">)</span> <span class="k">for</span> <span class="n">coord</span> <span class="ow">in</span> <span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="nf">findall</span><span class="p">(</span><span class="n">input_pattern</span><span class="p">,</span><span class="n">line</span><span class="p">))]</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">index</span> <span class="o">!=</span> <span class="nf">len</span><span class="p">(</span><span class="n">ends</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">2</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">3</span><span class="p">]:</span>
                    <span class="n">rocks</span><span class="p">.</span><span class="nf">update</span><span class="p">([(</span><span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="p">],</span><span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">list</span><span class="p">(</span><span class="nf">range</span><span class="p">(</span><span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">))])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">rocks</span><span class="p">.</span><span class="nf">update</span><span class="p">([(</span><span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="p">],</span><span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">list</span><span class="p">(</span><span class="nf">range</span><span class="p">(</span><span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">3</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">2</span><span class="p">]:</span>
                    <span class="n">rocks</span><span class="p">.</span><span class="nf">update</span><span class="p">([(</span><span class="n">j</span><span class="p">,</span><span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">list</span><span class="p">(</span><span class="nf">range</span><span class="p">(</span><span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="p">],</span><span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">))])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">rocks</span><span class="p">.</span><span class="nf">update</span><span class="p">([(</span><span class="n">j</span><span class="p">,</span><span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nf">list</span><span class="p">(</span><span class="nf">range</span><span class="p">(</span><span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="p">],</span><span class="n">ends</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))])</span>
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">2</span>
            
    <span class="k">return</span> <span class="n">rocks</span>

<span class="k">def</span> <span class="nf">falling_sand</span><span class="p">(</span><span class="n">sand</span><span class="p">,</span><span class="n">deepest_point</span><span class="p">,</span><span class="n">rocks</span><span class="p">):</span>
    <span class="k">while</span> <span class="n">sand</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">deepest_point</span><span class="p">:</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">sand</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="nf">while </span><span class="p">((</span><span class="n">sand</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">y</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">rocks</span><span class="p">)</span> <span class="ow">and</span> <span class="n">y</span><span class="o">&lt;</span><span class="n">deepest_point</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">sand</span> <span class="o">=</span> <span class="p">(</span><span class="n">sand</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">y</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">y</span> <span class="o">==</span> <span class="n">deepest_point</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
            <span class="nf">return </span><span class="p">(</span><span class="n">sand</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="nf">if </span><span class="p">(</span><span class="n">sand</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">sand</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">in</span> <span class="n">rocks</span><span class="p">:</span>
            <span class="nf">if </span><span class="p">(</span><span class="n">sand</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">sand</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">in</span> <span class="n">rocks</span><span class="p">:</span>
                <span class="nf">return </span><span class="p">(</span><span class="n">sand</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">sand</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sand</span> <span class="o">=</span> <span class="p">(</span><span class="n">sand</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">sand</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sand</span> <span class="o">=</span> <span class="p">(</span><span class="n">sand</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">sand</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        
    <span class="k">return</span> <span class="n">sand</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="c1">#star 1
</span>    <span class="n">rocks</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>

    <span class="n">deepest_point</span> <span class="o">=</span> <span class="nf">max</span><span class="p">([</span><span class="n">rock</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">rock</span> <span class="ow">in</span> <span class="nf">list</span><span class="p">(</span><span class="n">rocks</span><span class="p">)])</span>

    <span class="n">unit_no</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">sand</span> <span class="o">=</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">sand</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">deepest_point</span><span class="p">:</span>
        <span class="n">sand</span> <span class="o">=</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">sand</span> <span class="o">=</span> <span class="nf">falling_sand</span><span class="p">(</span><span class="n">sand</span><span class="p">,</span><span class="n">deepest_point</span><span class="p">,</span><span class="n">rocks</span><span class="p">)</span>
        <span class="n">rocks</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">sand</span><span class="p">)</span>
        <span class="n">unit_no</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="nf">print</span><span class="p">(</span><span class="n">unit_no</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1">#star 2
</span>    <span class="n">rocks</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>

    <span class="n">deepest_point</span> <span class="o">=</span> <span class="nf">max</span><span class="p">([</span><span class="n">rock</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">rock</span> <span class="ow">in</span> <span class="nf">list</span><span class="p">(</span><span class="n">rocks</span><span class="p">)])</span> <span class="o">+</span> <span class="mi">1</span>
    
    <span class="n">unit_no</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">sand</span> <span class="o">=</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
    
    <span class="nf">while </span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">rocks</span><span class="p">:</span>
        <span class="n">sand</span> <span class="o">=</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">sand</span> <span class="o">=</span> <span class="nf">falling_sand</span><span class="p">(</span><span class="n">sand</span><span class="p">,</span><span class="n">deepest_point</span><span class="p">,</span><span class="n">rocks</span><span class="p">)</span>
        <span class="n">rocks</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">sand</span><span class="p">)</span>
        <span class="n">unit_no</span> <span class="o">+=</span> <span class="mi">1</span>
        
    <span class="nf">print</span><span class="p">(</span><span class="n">unit_no</span><span class="p">)</span>

<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-15" class="paragraph">
<p>Day 15 of year 2022
<a href="https://adventofcode.com/2022/day/15" class="bare">https://adventofcode.com/2022/day/15</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_15">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If you do it brute force, it&#8217;s actually kind of straightforward.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_15">Approach</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I go through each line of the input, fish out the 4 numbers and put them into a list of lists.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I create a dictionary with the positions of the beacons and sensors. I add up the sensors on the horizontal line already since they can&#8217;t also be beacons.</p>
</li>
<li>
<p>I go through each sensor and count up the positions on the specified horizontal line that can&#8217;t contain beacons. I also put them into a dictionary to make sure I don&#8217;t count them twice.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I create a new dictionary with the sensor coordinates as the keys and the distance to the beacon as the value.</p>
</li>
<li>
<p>Then I go around the outer perimeter of the diamond defined by the distance from each sensor. Essentially 1 space further than the last spot that can&#8217;t have a beacon. I then check for each spot on the perimeter whether it is within the distance to any sensor; if so, it can&#8217;t contain a beacon. If it is not in the distance of any sensor, that&#8217;s the spot we are looking for.</p>
</li>
<li>
<p>My code is not super efficient (at least I don&#8217;t think so). But, it got to the answer in a couple of minutes on my 5 year old low-end business laptop.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_16">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="kn">import</span> <span class="n">regex</span> <span class="k">as</span> <span class="n">re</span>

<span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>
    <span class="n">lines_stripped</span> <span class="o">=</span> <span class="p">[</span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">]</span>

    <span class="n">input_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sh">"</span><span class="s">(-*\d+)</span><span class="sh">"</span><span class="p">)</span>

    <span class="n">sensor_beacons</span> <span class="o">=</span> <span class="nf">list</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines_stripped</span><span class="p">:</span>
        <span class="n">next_sensors_beacons</span> <span class="o">=</span> <span class="p">[</span><span class="nf">int</span><span class="p">(</span><span class="n">coord</span><span class="p">)</span> <span class="k">for</span> <span class="n">coord</span> <span class="ow">in</span> <span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="nf">findall</span><span class="p">(</span><span class="n">input_pattern</span><span class="p">,</span><span class="n">line</span><span class="p">))]</span>
        <span class="n">sensor_beacons</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">next_sensors_beacons</span><span class="p">)</span>
            
    <span class="k">return</span> <span class="n">sensor_beacons</span>

<span class="k">def</span> <span class="nf">manhattan_distance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="nf">abs</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="nf">abs</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>

    <span class="c1">#star 1
</span>    <span class="n">sensor_beacons</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>
    
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">2000000</span>

    <span class="n">positions</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">sensor_beacons</span><span class="p">:</span>
        <span class="nf">if </span><span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">positions</span><span class="p">:</span>
            <span class="n">positions</span><span class="p">[(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">S</span><span class="sh">"</span>
            <span class="k">if</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>
                <span class="n">count</span> <span class="o">+=</span><span class="mi">1</span>
        <span class="nf">if </span><span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">pair</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">positions</span><span class="p">:</span>
            <span class="n">positions</span><span class="p">[(</span><span class="n">pair</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">pair</span><span class="p">[</span><span class="mi">3</span><span class="p">])]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">B</span><span class="sh">"</span>
       
    <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">sensor_beacons</span><span class="p">:</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="nf">abs</span><span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">pair</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">+</span> <span class="nf">abs</span><span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">pair</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span>
            <span class="n">y_offset</span> <span class="o">=</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">y</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">y_offset</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">y_offset</span> <span class="o">&lt;=</span> <span class="n">distance</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">x_offset</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="n">distance</span><span class="o">+</span><span class="n">y_offset</span><span class="p">,</span><span class="n">distance</span><span class="o">-</span><span class="n">y_offset</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                <span class="nf">if </span><span class="p">(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">x_offset</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">positions</span><span class="p">:</span>
                    <span class="n">positions</span><span class="p">[(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">x_offset</span><span class="p">,</span><span class="n">y</span><span class="p">)]</span> <span class="o">=</span> <span class="sh">"</span><span class="s">#</span><span class="sh">"</span>
                    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
                    
    <span class="nf">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>

    <span class="c1">#star 2
</span>    <span class="n">sensors_dist</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">sensor_beacons</span><span class="p">:</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="nf">manhattan_distance</span><span class="p">([</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]],[</span><span class="n">pair</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">pair</span><span class="p">[</span><span class="mi">3</span><span class="p">]])</span>
        <span class="n">sensors_dist</span><span class="p">[(</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span> <span class="o">=</span> <span class="n">distance</span>
    <span class="n">sensors</span> <span class="o">=</span> <span class="n">sensors_dist</span><span class="p">.</span><span class="nf">keys</span><span class="p">()</span>        
    
    <span class="n">search_field</span> <span class="o">=</span> <span class="mi">4000000</span>

    <span class="k">for</span> <span class="n">sensor</span> <span class="ow">in</span> <span class="n">sensors</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="n">sensors_dist</span><span class="p">[</span><span class="n">sensor</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="o">+</span><span class="n">sensor</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nf">min</span><span class="p">(</span><span class="n">sensors_dist</span><span class="p">[</span><span class="n">sensor</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">+</span><span class="n">sensor</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">search_field</span><span class="o">+</span><span class="mi">1</span><span class="p">)):</span>
            <span class="n">x_offset</span> <span class="o">=</span> <span class="n">x</span><span class="o">-</span><span class="n">sensor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">y_offset</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="o">*</span><span class="n">sensors_dist</span><span class="p">[</span><span class="n">sensor</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="o">+</span><span class="nf">abs</span><span class="p">(</span><span class="n">x_offset</span><span class="p">),</span><span class="n">sensors_dist</span><span class="p">[</span><span class="n">sensor</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span class="nf">abs</span><span class="p">(</span><span class="n">x_offset</span><span class="p">)]:</span>
                <span class="k">if</span> <span class="n">y_offset</span><span class="o">+</span><span class="n">sensor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">y_offset</span><span class="o">+</span><span class="n">sensor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;</span><span class="n">search_field</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">test</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="k">for</span> <span class="n">other_sensor</span> <span class="ow">in</span> <span class="n">sensors</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nf">manhattan_distance</span><span class="p">((</span><span class="n">sensor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">x_offset</span><span class="p">,</span><span class="n">sensor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">y_offset</span><span class="p">),</span><span class="n">other_sensor</span><span class="p">)</span><span class="o">&lt;</span><span class="n">sensors_dist</span><span class="p">[</span><span class="n">other_sensor</span><span class="p">]:</span>
                            <span class="n">test</span> <span class="o">=</span> <span class="mi">0</span>
                            <span class="k">break</span>
                    <span class="k">if</span> <span class="n">test</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="nf">print</span><span class="p">((</span><span class="n">sensor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">x_offset</span><span class="p">)</span><span class="o">*</span><span class="mi">4000000</span><span class="o">+</span><span class="p">(</span><span class="n">sensor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">y_offset</span><span class="p">))</span>
                        <span class="k">break</span>
            <span class="k">if</span> <span class="n">test</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="k">if</span> <span class="n">test</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">break</span>
            
<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
<div id="sol-16" class="paragraph">
<p>Day 16 of year 2022
<a href="https://adventofcode.com/2022/day/16" class="bare">https://adventofcode.com/2022/day/16</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_i_learned_16">What I learned</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This day was incredibly frustrating. :-(</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_approach_16">Approach</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I create a few data structures from the input.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>"valves" is a dictionary and if you give it the index of a room, it will give back the neighbors of that room as well as the valve pressure for that room.</p>
</li>
<li>
<p>I find the index of room "AA".</p>
</li>
<li>
<p>A dictionary to hold the different variants that we have to check. The key is a tuple with the index of the room that you are in currently and the state of all valves and the current time. The value is the pressure that will be released cumatively until the end of the defined time.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 1</strong><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The basic idea is to go through and try all of the variants and find the one that gives you the maximum pressure.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Each round, you can move to an adjacent room.</p>
</li>
<li>
<p>Or open the valve in the current room if it is closed.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Since there is more than one way to get to a state within the round (from different previous states), you have to be careful to find the max pressure for that state.</p>
</li>
<li>
<p>If you open the valve, you add the pressure that will be released until the end of the specified time.</p>
</li>
<li>
<p>It&#8217;s not very optimal, but I made it a little bit better by throwing out the states that have no chance of leading to the max anymore.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Star 2</strong><br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I modified the key for the state dictionary to include a tuple with the 2 positions.</p>
</li>
<li>
<p>I make my own move. And then based on that, let the elephant do his.</p>
</li>
<li>
<p>It took a while on my laptop (with only 8GB RAM), but worked. The star 2 example does <strong>not</strong> work. The answer is off by one and I have no idea why. And after spending so much time, I decided that I don&#8217;t care.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_run_script_17">Run script</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the solution with <code>python solution.py</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="kn">import</span> <span class="n">regex</span> <span class="k">as</span> <span class="n">re</span>

<span class="k">def</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">file_contents</span><span class="p">):</span>

    <span class="n">valve_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sh">"</span><span class="s">Valve (..)</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">neighbor_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sh">"</span><span class="s">([A-Z][A-Z])[,</span><span class="se">\n</span><span class="s">]</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">rate_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">compile</span><span class="p">(</span><span class="sh">"</span><span class="s">rate=(\d+)</span><span class="sh">"</span><span class="p">)</span>

    <span class="n">temp_valves</span> <span class="o">=</span> <span class="p">{</span><span class="n">re</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="n">valve_pattern</span><span class="p">,</span><span class="n">line</span><span class="p">).</span><span class="nf">group</span><span class="p">(</span><span class="mi">1</span><span class="p">):[</span><span class="nf">int</span><span class="p">(</span><span class="n">re</span><span class="p">.</span><span class="nf">findall</span><span class="p">(</span><span class="n">rate_pattern</span><span class="p">,</span><span class="n">line</span><span class="p">)[</span><span class="mi">0</span><span class="p">]),</span><span class="n">re</span><span class="p">.</span><span class="nf">findall</span><span class="p">(</span><span class="n">neighbor_pattern</span><span class="p">,</span><span class="n">line</span><span class="p">)]</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">file_contents</span><span class="p">}</span>
    
    <span class="n">valve_index</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">key</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">temp_valves</span><span class="p">.</span><span class="nf">keys</span><span class="p">())}</span>
    <span class="n">valves</span> <span class="o">=</span> <span class="p">{</span><span class="n">valve_index</span><span class="p">[</span><span class="n">key</span><span class="p">]:[</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">],[</span><span class="n">valve_index</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]]]</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">temp_valves</span><span class="p">.</span><span class="nf">items</span><span class="p">()}</span>
    
    <span class="n">position_AA</span> <span class="o">=</span> <span class="n">valve_index</span><span class="p">[</span><span class="sh">"</span><span class="s">AA</span><span class="sh">"</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">valves</span><span class="p">,</span><span class="n">position_AA</span>

<span class="k">def</span> <span class="nf">find_max_flow</span><span class="p">(</span><span class="n">valves</span><span class="p">,</span><span class="n">position_state</span><span class="p">,</span><span class="n">t_max</span><span class="p">):</span>
    <span class="n">t</span><span class="o">=</span> <span class="mi">1</span>

    <span class="n">pressure</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="n">t_max</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">temp_position_state</span> <span class="o">=</span> <span class="n">position_state</span><span class="p">.</span><span class="nf">copy</span><span class="p">()</span>                    
         
        <span class="n">pressure</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="n">position_state</span><span class="p">.</span><span class="nf">values</span><span class="p">())</span>

<span class="c1">#        print("Time = ", t)
#        print(pressure)
</span>
        <span class="n">max_pressure</span> <span class="o">=</span> <span class="p">[</span><span class="n">valves</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">t_max</span><span class="o">-</span><span class="n">t</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">valves</span><span class="p">))]</span>
        <span class="k">for</span> <span class="n">current_state</span> <span class="ow">in</span> <span class="n">temp_position_state</span><span class="p">:</span>
            <span class="nf">find_neighbors</span><span class="p">(</span><span class="n">valves</span><span class="p">,</span><span class="n">current_state</span><span class="p">,</span><span class="n">position_state</span><span class="p">,</span><span class="n">t_max</span><span class="o">-</span><span class="n">t</span><span class="p">,</span><span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">max_pressure</span><span class="p">,</span><span class="n">pressure</span><span class="p">)</span>

        <span class="n">temp_position_state</span> <span class="o">=</span> <span class="n">position_state</span><span class="p">.</span><span class="nf">copy</span><span class="p">()</span>
        <span class="n">position_state</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">current_state</span> <span class="ow">in</span> <span class="n">temp_position_state</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">t</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">if</span> <span class="nf">sum</span><span class="p">([</span><span class="mi">0</span> <span class="k">if</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span> <span class="k">else</span> <span class="n">max_pressure</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">valves</span><span class="p">))])</span> <span class="o">+</span> <span class="n">temp_position_state</span><span class="p">[</span><span class="n">current_state</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">pressure</span><span class="p">:</span>
                    <span class="n">position_state</span><span class="p">[</span><span class="n">current_state</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp_position_state</span><span class="p">[</span><span class="n">current_state</span><span class="p">]</span>
        
<span class="c1">#        print(len(position_state))
</span>        
        <span class="n">t</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">pressure</span>

<span class="k">def</span> <span class="nf">find_neighbors</span><span class="p">(</span><span class="n">valves</span><span class="p">,</span><span class="n">current_state</span><span class="p">,</span><span class="n">position_state</span><span class="p">,</span><span class="n">time_left</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">max_pressure</span><span class="p">,</span><span class="n">pressure</span><span class="p">):</span>
    <span class="k">if</span> <span class="nf">type</span><span class="p">(</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">tuple</span><span class="p">:</span>
        <span class="n">neighbors</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
        <span class="n">current_pressure</span> <span class="o">=</span> <span class="n">position_state</span><span class="p">[</span><span class="n">current_state</span><span class="p">]</span>
        <span class="n">neighbors</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="nf">tuple</span><span class="p">([</span><span class="nf">tuple</span><span class="p">([</span><span class="n">valves</span><span class="p">[</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">],</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">t</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">valves</span><span class="p">[</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="mi">1</span><span class="p">]))]))</span>
        <span class="k">for</span> <span class="n">neighbor</span> <span class="ow">in</span> <span class="n">neighbors</span><span class="p">:</span>
            <span class="k">if</span> <span class="nf">sum</span><span class="p">([</span><span class="mi">0</span> <span class="k">if</span> <span class="n">neighbor</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span> <span class="k">else</span> <span class="n">max_pressure</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">valves</span><span class="p">))])</span> <span class="o">+</span> <span class="n">current_pressure</span> <span class="o">&gt;=</span> <span class="n">pressure</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">position_state</span><span class="p">:</span>
                    <span class="n">position_state</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_pressure</span>
                <span class="k">elif</span> <span class="n">position_state</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">current_pressure</span><span class="p">:</span>
                    <span class="n">position_state</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_pressure</span>
        <span class="k">if</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">==</span> <span class="bp">False</span> <span class="ow">and</span> <span class="n">valves</span><span class="p">[</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">])</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">position_state</span><span class="p">:</span>
                <span class="n">position_state</span><span class="p">[</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">])]</span>\
                <span class="o">=</span> <span class="n">current_pressure</span> <span class="o">+</span> <span class="n">time_left</span><span class="o">*</span><span class="n">valves</span><span class="p">[</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">position_state</span><span class="p">[</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">])]</span> \
                <span class="o">&lt;</span> <span class="n">current_pressure</span> <span class="o">+</span> <span class="n">time_left</span><span class="o">*</span><span class="n">valves</span><span class="p">[</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">position_state</span><span class="p">[</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">])]</span> <span class="o">=</span> <span class="n">current_pressure</span> <span class="o">+</span> <span class="n">time_left</span><span class="o">*</span><span class="n">valves</span><span class="p">[</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># The first position moves or opens if possible
</span>        <span class="n">neighbors</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
        <span class="n">invalid_neighbor</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
        <span class="n">current_pressure</span> <span class="o">=</span> <span class="n">position_state</span><span class="p">[</span><span class="n">current_state</span><span class="p">]</span>
        <span class="n">neighbors</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="nf">tuple</span><span class="p">([</span><span class="nf">tuple</span><span class="p">([(</span><span class="n">valves</span><span class="p">[</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]][</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">],</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">t</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">valves</span><span class="p">[</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]][</span><span class="mi">1</span><span class="p">]))]))</span>
        <span class="k">for</span> <span class="n">neighbor</span> <span class="ow">in</span> <span class="n">neighbors</span><span class="p">:</span>
            <span class="k">if</span> <span class="nf">sum</span><span class="p">([</span><span class="mi">0</span> <span class="k">if</span> <span class="n">neighbor</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span> <span class="k">else</span> <span class="n">max_pressure</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">valves</span><span class="p">))])</span> <span class="o">+</span> <span class="n">current_pressure</span> <span class="o">&gt;=</span> <span class="n">pressure</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">position_state</span><span class="p">:</span>
                    <span class="n">position_state</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_pressure</span>
                <span class="k">elif</span> <span class="n">position_state</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">current_pressure</span><span class="p">:</span>
                    <span class="n">position_state</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_pressure</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">invalid_neighbor</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">neighbor</span><span class="p">)</span>
        <span class="n">neighbors</span> <span class="o">=</span> <span class="n">neighbors</span> <span class="o">-</span> <span class="n">invalid_neighbor</span>
        <span class="k">if</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span> <span class="o">==</span> <span class="bp">False</span> <span class="ow">and</span> <span class="n">valves</span><span class="p">[</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">])</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">position_state</span><span class="p">:</span>
                <span class="n">neighbors</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">]))</span>
                <span class="n">position_state</span><span class="p">[</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">])]</span>\
                <span class="o">=</span> <span class="n">current_pressure</span> <span class="o">+</span> <span class="n">time_left</span><span class="o">*</span><span class="n">valves</span><span class="p">[</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">position_state</span><span class="p">[</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">])]</span> \
                <span class="o">&lt;</span> <span class="n">current_pressure</span> <span class="o">+</span> <span class="n">time_left</span><span class="o">*</span><span class="n">valves</span><span class="p">[</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]][</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">position_state</span><span class="p">[</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">])]</span> <span class="o">=</span> <span class="n">current_pressure</span> <span class="o">+</span> <span class="n">time_left</span><span class="o">*</span><span class="n">valves</span><span class="p">[</span><span class="n">current_state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># And the second one (elephant or me) does its moving or opening
</span>        <span class="n">only1move</span> <span class="o">=</span> <span class="n">neighbors</span><span class="p">.</span><span class="nf">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">only1move</span><span class="p">:</span>
            <span class="n">neighbors</span> <span class="o">=</span> <span class="nf">set</span><span class="p">()</span>
            <span class="n">current_pressure</span> <span class="o">=</span> <span class="n">position_state</span><span class="p">[</span><span class="n">state</span><span class="p">]</span>
            <span class="n">neighbors</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="nf">tuple</span><span class="p">([</span><span class="nf">tuple</span><span class="p">([(</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">valves</span><span class="p">[</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]][</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]),</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">t</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">valves</span><span class="p">[</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]][</span><span class="mi">1</span><span class="p">]))]))</span>
            <span class="k">for</span> <span class="n">neighbor</span> <span class="ow">in</span> <span class="n">neighbors</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">position_state</span><span class="p">:</span>
                    <span class="n">position_state</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_pressure</span>
                <span class="k">elif</span> <span class="n">position_state</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">current_pressure</span><span class="p">:</span>
                    <span class="n">position_state</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_pressure</span>
            <span class="k">if</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]]</span> <span class="o">==</span> <span class="bp">False</span> <span class="ow">and</span> <span class="n">valves</span><span class="p">[</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="nf">tuple</span><span class="p">([</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">])</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">position_state</span><span class="p">:</span>
                    <span class="n">neighbors</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nf">tuple</span><span class="p">([</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">]))</span>
                    <span class="n">position_state</span><span class="p">[</span><span class="nf">tuple</span><span class="p">([</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">])]</span>\
                    <span class="o">=</span> <span class="n">current_pressure</span> <span class="o">+</span> <span class="n">time_left</span><span class="o">*</span><span class="n">valves</span><span class="p">[</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">elif</span> <span class="n">position_state</span><span class="p">[</span><span class="nf">tuple</span><span class="p">([</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">])]</span> \
                    <span class="o">&lt;</span> <span class="n">current_pressure</span> <span class="o">+</span> <span class="n">time_left</span><span class="o">*</span><span class="n">valves</span><span class="p">[</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">position_state</span><span class="p">[</span><span class="nf">tuple</span><span class="p">([</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nf">tuple</span><span class="p">([</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="bp">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">current_state</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]),</span><span class="n">t</span><span class="p">])]</span> <span class="o">=</span> <span class="n">current_pressure</span> <span class="o">+</span> <span class="n">time_left</span><span class="o">*</span><span class="n">valves</span><span class="p">[</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">input.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">input_file</span><span class="p">:</span>
        <span class="n">input_lines</span> <span class="o">=</span> <span class="n">input_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span>
        <span class="n">input_lines</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">input_lines</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="sh">"</span><span class="se">\n</span><span class="sh">"</span>

    <span class="n">valves</span><span class="p">,</span><span class="n">position_AA</span> <span class="o">=</span> <span class="nf">process_input</span><span class="p">(</span><span class="n">input_lines</span><span class="p">)</span>
    
    <span class="c1">#star 1
</span>
    <span class="n">start_position</span> <span class="o">=</span> <span class="p">(</span><span class="n">position_AA</span><span class="p">,</span><span class="nf">tuple</span><span class="p">([</span><span class="bp">False</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">valves</span><span class="p">))]),</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">position_state</span> <span class="o">=</span> <span class="p">{</span><span class="n">start_position</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
    <span class="n">t_max</span> <span class="o">=</span> <span class="mi">30</span>
    
    <span class="n">pressure</span> <span class="o">=</span> <span class="nf">find_max_flow</span><span class="p">(</span><span class="n">valves</span><span class="p">,</span><span class="n">position_state</span><span class="p">,</span><span class="n">t_max</span><span class="p">)</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="n">pressure</span><span class="p">)</span>
    
    <span class="c1">#star 2
</span>    
    <span class="n">start_position</span> <span class="o">=</span> <span class="p">((</span><span class="n">position_AA</span><span class="p">,</span><span class="n">position_AA</span><span class="p">),</span><span class="nf">tuple</span><span class="p">([</span><span class="bp">False</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">valves</span><span class="p">))]),</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">position_state</span> <span class="o">=</span> <span class="p">{</span><span class="n">start_position</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
    <span class="n">t_max</span> <span class="o">=</span> <span class="mi">26</span>

    <span class="n">pressure</span> <span class="o">=</span> <span class="nf">find_max_flow</span><span class="p">(</span><span class="n">valves</span><span class="p">,</span><span class="n">position_state</span><span class="p">,</span><span class="n">t_max</span><span class="p">)</span>
    
    <span class="nf">print</span><span class="p">(</span><span class="n">pressure</span><span class="p">)</span>
             
<span class="nf">main</span><span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#top">Top</a></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-11-17 23:12:30 UTC
</div>
</div>
</body>
</html>